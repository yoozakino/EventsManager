<UserControl x:Class="EventsManager.JuryPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             MinWidth="900" MinHeight="520">

    <Grid Margin="12">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="12"/>
            <ColumnDefinition Width="460"/>
        </Grid.ColumnDefinitions>

        <!-- Мои активности -->
        <Border Background="White" CornerRadius="10" Padding="12">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Жюри" FontSize="20"/>

                <StackPanel Grid.Row="2" Orientation="Horizontal">
                    <Button Content="Обновить" Width="110" Height="30" Click="Refresh_Click"/>
                    <TextBlock Margin="12,6,0,0" Opacity="0.65"
                               Text="Показываются активности, где вы назначены жюри."/>
                </StackPanel>

                <DataGrid Grid.Row="4" x:Name="MyJuryActivitiesGrid"
                          AutoGenerateColumns="False"
                          IsReadOnly="True"
                          CanUserAddRows="False"
                          SelectionMode="Single"
                          SelectionChanged="MyJuryActivitiesGrid_SelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ActivityID" Binding="{Binding ActivityID}" Width="90"/>
                        <DataGridTextColumn Header="EventID" Binding="{Binding EventID}" Width="70"/>
                        <DataGridTextColumn Header="День" Binding="{Binding Day}" Width="70"/>
                        <DataGridTextColumn Header="Время" Binding="{Binding StartTime}" Width="120"/>
                        <DataGridTextColumn Header="Активность" Binding="{Binding ActivityName}" Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>

        <!-- Победитель -->
        <Border Grid.Column="2" Background="White" CornerRadius="10" Padding="12">
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                <StackPanel>
                    <TextBlock Text="Победитель" FontSize="18"/>

                    <TextBlock Margin="0,12,0,2" Opacity="0.75" Text="Мероприятие"/>
                    <TextBlock x:Name="EventNameText" Text="—" Opacity="0.85" TextWrapping="Wrap"/>

                    <TextBlock Margin="0,12,0,2" Opacity="0.75" Text="Кандидаты"/>
                    <ComboBox x:Name="CandidatesCombo"
                              Height="30"
                              DisplayMemberPath="FIO"
                              SelectedValuePath="ID"/>

                    <Button Margin="0,14,0,0"
                            Content="Назначить победителя"
                            Height="34"
                            Click="SetWinner_Click"/>

                    <TextBlock Margin="0,10,0,0" x:Name="WinnerHint"
                               Opacity="0.6"
                               TextWrapping="Wrap"
                               Text="Выберите активность слева, затем кандидата и нажмите кнопку."/>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</UserControl>
